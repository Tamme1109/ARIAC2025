Here is some (probably bad) code that has servers and clients that can communicate with each other.

this is based on this tutorial, meaing you need to create a workspace using the tutorial first and just add the python scripts after.

https://docs.ros.org/en/iron/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html 

There are 2 types of server scripts and 3 types of clients; server, client and client2 work together  while doorservice and doorClient work together. See the setup.py file to know the what name to write to run the scripts.

Any questions, just ask me directly.
